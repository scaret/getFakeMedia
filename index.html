<html>
    <video id="video-elem" controls></video>
    <button id="play-btn">Play</button>
    <div id="qrcode"></div>
    <script src="./assets/axios/dist/axios.min.js"></script>
    <script src="./assets/qrcode/qrcode.js"></script>
    <script src="./dist/fakeMediaDevices.js"></script>
    <script>
        // new QRCode(document.getElementById("qrcode"), "http://jindo.dev.naver.com/collie");
        const main = async ()=>{

            const fakeMedia = fakeMediaDevices.getFakeMedia({
                audio: {
                    channelCount: 1,
                    mono: {
                        data: "bbdbbjyy",
                        loop: true,
                        gain: 1,
                        // noise: {
                        //     gain: 0.1
                        // }
                    },
                    // left: false,
                    left: {
                        data: "bbdbbjyy",
                        loop: true,
                        gain: 1,
                        // noise: {
                        //     gain: 0.1
                        // }
                    },
                    // right: false,
                    right: {
                        data: "mmdmmjnn",
                        loop: true,
                        gain: 0,
                        noise: {
                            gain: 0.1
                        }
                    },
                },
                video: true
            })
            // fakeMedia.video.hookDrawFrame = ()=>{
            //     console.log("hookDrawFrame");
            // }
            document.getElementById("video-elem").srcObject = fakeMedia.getMediaStream()
        }

        document.getElementById("play-btn").onclick = ()=>{
            main()
            document.getElementById("video-elem").play()
        }
    </script>
</html>